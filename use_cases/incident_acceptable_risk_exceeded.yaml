name: acceptable risk exceeded
type: incident-triggering
purpose: 
prerequisites: 
- indexes: 
          anomaly_collection (explanation: an index where identified anomalies are stored as events)
          incident_collection (explanation: an index where identified incidents are stored as events)
- lookups: 
- macros: 
- fields: 
          title
          description
          staff_ID
          patient_ID
          risk_score
          drilldown_search
- searches: 
          search 1
how_to_implement:
          1. create an index called 'anomaly_collection' and 'incident_collection'. 
          5. create 'search 1' as a report and then schedule it according to the instructions. 
search 1: 
- description: 
- search: 
          index=anomaly_collection earliest=-24h
          | stats sum(risk_score) as risk_score list(use_case_ID) as use_case_ID list(info_min_time) as earliest_trp list(info_max_time) as latest_trp list(patient_ID) as patient_ID by staff_ID
          | eval earliest_trp = mvjoin(earliest_trp, ",")
          | eval latest_trp = mvjoin(latest_trp, ",")
          | eval use_case_ID = mvjoin(use_case_ID, ",")
          | eval patient_ID = mvjoin(patient_ID, ",")
          | addinfo
          | eval incident_ID = md5(description.info_search_time)
          | collect index=incident_collection addinfo=false
- time range picker: 
- cron schedule: 
